/**
 * AG Grid SAG Theme - Alinhado com Vision Design System
 * Baseado em: frontend-v2/src/assets/styles/themes/ag-grid.ts
 * Cores: frontend-v2/src/assets/styles/themes/main-theme.scss
 */

/* CSS Variables do Vision (main-theme.scss) */
:root {
    --primary-500: #447BDA;
    --primary-50: #EEF4FC;
    --primary-100: #DBEAFE;
    --primary-200: #BFDBFE;
    --neutral-white: #ffffff;
    --neutral-100: #F6F6F6;
    --neutral-200: #F4F4F5;
    --neutral-300: #E9EDF5;
    --neutral-400: #D0D8E4;
    --neutral-500: #B8BFCC;
    --neutral-600: #606B80;
    --neutral-700: #232A36;
    --neutral-800: #11161D;
}

/* Tema Quartz customizado para SAG - cores exatas do Vision */
/* Alta especificidade para sobrescrever CDN */
.ag-theme-quartz,
div.ag-theme-quartz,
#consultaAgGrid.ag-theme-quartz,
#lookupAgGrid.ag-theme-quartz,
#expandedLookupAgGrid.ag-theme-quartz,
.movement-ag-grid.ag-theme-quartz,
.modal .ag-theme-quartz {
    /* Cores principais - EXATAMENTE iguais ao Vision ag-grid.ts */
    --ag-accent-color: #447BDA !important;
    --ag-background-color: #ffffff !important;
    --ag-foreground-color: #11161D !important;
    --ag-border-color: #E9EDF5 !important;

    /* Header - cores do Vision */
    --ag-header-background-color: #F6F6F6 !important;
    --ag-header-foreground-color: #606B80 !important;
    --ag-header-height: 40px !important;

    /* Rows - Altura padrão Edata/Vision: 48px */
    --ag-row-height: 48px !important;
    --ag-row-border-color: #E9EDF5 !important;
    --ag-odd-row-background-color: #ffffff !important;
    --ag-row-hover-color: #EEF4FC !important;
    --ag-selected-row-background-color: #DBEAFE !important;

    /* Fonts - Inter igual ao Vision */
    --ag-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    --ag-font-size: 14px !important;

    /* Border radius - 4px igual ao Vision */
    --ag-border-radius: 4px !important;
    --ag-wrapper-border-radius: 4px !important;

    /* Cell */
    --ag-cell-horizontal-padding: 12px !important;

    /* Borders mais sutis - apenas horizontais entre linhas */
    --ag-cell-horizontal-border: none !important;
    --ag-borders: none !important;
    --ag-borders-row: solid 1px var(--neutral-300, #E9EDF5) !important;

    /* Focus ring */
    --ag-range-selection-border-color: #447BDA !important;
    --ag-range-selection-background-color: rgba(68, 123, 218, 0.1) !important;

    /* Input */
    --ag-input-focus-border-color: #447BDA !important;
}

/* Header styling - igual ao Vision */
.ag-theme-quartz .ag-header {
    background-color: #F6F6F6 !important;
    border-bottom: 1px solid #E9EDF5 !important;
}

.ag-theme-quartz .ag-header-row {
    background-color: #F6F6F6 !important;
}

.ag-theme-quartz .ag-header-cell {
    background-color: #F6F6F6 !important;
    font-weight: 500 !important;
    font-size: 14px !important;
    color: #606B80 !important;
}

/* Header cell hover */
.ag-theme-quartz .ag-header-cell:hover {
    background-color: #F4F4F5 !important;
}

/* Row group panel (barra de agrupamento) */
.ag-theme-quartz .ag-column-drop {
    background-color: #F6F6F6 !important;
    border-bottom: 1px solid #E9EDF5 !important;
}

.ag-theme-quartz .ag-column-drop-cell {
    background-color: #ffffff !important;
    border: 1px solid #E9EDF5 !important;
    border-radius: 4px !important;
}

/* Side bar (painel de colunas) */
.ag-theme-quartz .ag-side-bar {
    background-color: #ffffff !important;
    border-left: 1px solid #E9EDF5 !important;
}

.ag-theme-quartz .ag-side-button-button {
    color: #606B80 !important;
}

.ag-theme-quartz .ag-side-button-button:hover {
    background-color: #F6F6F6 !important;
}

/* Sort icons - cor primária */
.ag-theme-quartz .ag-sort-indicator-icon {
    color: #447BDA;
}

/* Header menu icon */
.ag-theme-quartz .ag-header-cell-menu-button {
    opacity: 0;
    transition: opacity 0.2s;
}

.ag-theme-quartz .ag-header-cell:hover .ag-header-cell-menu-button {
    opacity: 1;
}

/* Row selection - cor primária */
.ag-theme-quartz .ag-row-selected {
    background-color: #DBEAFE !important;
}

.ag-theme-quartz .ag-row-selected:hover {
    background-color: #BFDBFE !important;
}

/* Row hover */
.ag-theme-quartz .ag-row:hover {
    background-color: #EEF4FC;
}

/* Cell text - centralizado verticalmente */
.ag-theme-quartz .ag-cell {
    color: #11161D;
    user-select: text;
    -webkit-user-select: text;
    display: flex !important;
    align-items: center !important;
}

/* Wrapper interno da célula */
.ag-theme-quartz .ag-cell-wrapper {
    display: flex !important;
    align-items: center !important;
    height: 100% !important;
}

.ag-theme-quartz .ag-cell-value {
    display: flex !important;
    align-items: center !important;
}

/* Pagination - estilo Vision */
.ag-theme-quartz .ag-paging-panel {
    border-top: 1px solid #E9EDF5;
    height: 48px;
    padding: 0 16px;
    color: #606B80;
}

.ag-theme-quartz .ag-paging-button {
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 4px;
}

.ag-theme-quartz .ag-paging-button:hover {
    background-color: #F6F6F6;
}

/* Loading overlay */
.ag-theme-quartz .ag-overlay-loading-wrapper {
    background-color: rgba(255, 255, 255, 0.9);
}

.ag-theme-quartz .ag-overlay-loading-center {
    background: #ffffff;
    border-radius: 8px;
    padding: 16px 24px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    color: #606B80;
}

/* No rows overlay */
.ag-theme-quartz .ag-overlay-no-rows-center {
    padding: 24px;
    color: #606B80;
    font-size: 14px;
}

/* Menu popup - estilo Vision */
.ag-theme-quartz .ag-menu {
    border-radius: 8px;
    border: 1px solid #E9EDF5;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    background: #ffffff;
}

.ag-theme-quartz .ag-menu-option {
    color: #11161D;
}

.ag-theme-quartz .ag-menu-option:hover {
    background-color: #F6F6F6;
}

.ag-theme-quartz .ag-menu-option-active {
    background-color: #EEF4FC;
}

/* Filter popup */
.ag-theme-quartz .ag-filter {
    background: #ffffff;
}

.ag-theme-quartz .ag-filter-toolpanel-search input,
.ag-theme-quartz .ag-text-field-input {
    border: 1px solid #D0D8E4;
    border-radius: 4px;
    padding: 8px 12px;
    color: #11161D;
}

.ag-theme-quartz .ag-text-field-input:focus {
    border-color: #447BDA;
    outline: none;
    box-shadow: 0 0 0 2px rgba(68, 123, 218, 0.2);
}

/* Checkbox styling - cor primária */
.ag-theme-quartz .ag-checkbox-input-wrapper {
    width: 18px;
    height: 18px;
}

.ag-theme-quartz .ag-checkbox-input-wrapper.ag-checked {
    background-color: #447BDA;
    border-color: #447BDA;
}

/* Column resize handle */
.ag-theme-quartz .ag-header-cell-resize {
    opacity: 0;
    transition: opacity 0.2s;
}

.ag-theme-quartz .ag-header-cell:hover .ag-header-cell-resize {
    opacity: 1;
}

/* Tab styling in side panel */
.ag-theme-quartz .ag-tab {
    color: #606B80;
}

.ag-theme-quartz .ag-tab-selected {
    color: #447BDA;
    border-bottom-color: #447BDA;
}

/* Column panel */
.ag-theme-quartz .ag-column-panel {
    background: #ffffff;
}

.ag-theme-quartz .ag-column-select-header {
    border-bottom: 1px solid #E9EDF5;
}

/* Drag and drop */
.ag-theme-quartz .ag-dnd-ghost {
    background: #ffffff;
    border: 1px solid #447BDA;
    border-radius: 4px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

/* Status bar */
.ag-theme-quartz .ag-status-bar {
    border-top: 1px solid #E9EDF5;
    background: #F6F6F6;
    color: #606B80;
}

/* Tooltip */
.ag-theme-quartz .ag-tooltip {
    background: #232A36;
    color: #ffffff;
    border-radius: 4px;
    padding: 8px 12px;
    font-size: 13px;
}

/* SAG-specific container */
.sag-grid-container {
    height: 400px;
    width: 100%;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #E9EDF5;
}

/* Toolbar above grid */
.sag-grid-toolbar {
    display: flex;
    gap: 8px;
    padding: 12px;
    background-color: #F6F6F6;
    border-bottom: 1px solid #E9EDF5;
}

/* Grid actions bar */
.sag-grid-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    background-color: #ffffff;
    border-top: 1px solid #E9EDF5;
}

/* =====================================================
   GRIDS EM MODAIS (Lookup e Movement)
   Garantir que as cores Vision se apliquem dentro de modais
   ===================================================== */

/* Lookup Modal Grids */
.modal #lookupAgGrid.ag-theme-quartz .ag-header,
.modal #expandedLookupAgGrid.ag-theme-quartz .ag-header,
.modal .ag-theme-quartz .ag-header {
    background-color: #F6F6F6 !important;
}

.modal #lookupAgGrid.ag-theme-quartz .ag-header-row,
.modal #expandedLookupAgGrid.ag-theme-quartz .ag-header-row,
.modal .ag-theme-quartz .ag-header-row {
    background-color: #F6F6F6 !important;
}

.modal #lookupAgGrid.ag-theme-quartz .ag-header-cell,
.modal #expandedLookupAgGrid.ag-theme-quartz .ag-header-cell,
.modal .ag-theme-quartz .ag-header-cell {
    background-color: #F6F6F6 !important;
    color: #606B80 !important;
}

/* Movement Grid */
.movement-ag-grid.ag-theme-quartz .ag-header {
    background-color: #F6F6F6 !important;
}

.movement-ag-grid.ag-theme-quartz .ag-header-row {
    background-color: #F6F6F6 !important;
}

.movement-ag-grid.ag-theme-quartz .ag-header-cell {
    background-color: #F6F6F6 !important;
    color: #606B80 !important;
}

/* Rows em modais */
.modal .ag-theme-quartz .ag-row:hover {
    background-color: #EEF4FC !important;
}

.modal .ag-theme-quartz .ag-row-selected {
    background-color: #DBEAFE !important;
}

/* Dark mode support (para futuro) */
.dark .ag-theme-quartz {
    --ag-background-color: #11161D;
    --ag-foreground-color: #F6F6F6;
    --ag-border-color: #232A36;
    --ag-header-background-color: #232A36;
    --ag-header-foreground-color: #B8BFCC;
    --ag-odd-row-background-color: #11161D;
    --ag-row-hover-color: #232A36;
    --ag-selected-row-background-color: rgba(68, 123, 218, 0.3);
}

.dark .ag-theme-quartz .ag-header {
    border-bottom-color: #232A36;
}

.dark .ag-theme-quartz .ag-cell {
    color: #F6F6F6;
}

.dark .ag-theme-quartz .ag-menu {
    background: #232A36;
    border-color: #232A36;
}

.dark .ag-theme-quartz .ag-menu-option {
    color: #F6F6F6;
}

.dark .ag-theme-quartz .ag-menu-option:hover {
    background-color: #11161D;
}

/* =====================================================
   ACTION BUTTONS - Padrao Edata/Vision inline actions
   Botoes de acao inline na primeira coluna do grid
   ===================================================== */

/* Container da celula de acoes */
.action-buttons-cell {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    height: 100%;
    padding: 0 4px;
}

/* Botao base - suporta ícones Lucide SVG */
.action-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.15s ease-in-out;
    padding: 0;
}

/* Estilo do SVG dentro do botão */
.action-btn svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
}

.action-btn:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(68, 123, 218, 0.3);
}

.action-btn:active {
    transform: scale(0.95);
}

/* Botao Editar - Primary (azul claro) */
.action-btn-edit {
    background-color: var(--primary-50, #EEF4FC);
    color: var(--primary-500, #447BDA);
}

.action-btn-edit:hover {
    background-color: var(--primary-100, #DBEAFE);
    color: var(--primary-500, #447BDA);
}

/* Botao Excluir - Danger (vermelho claro) */
.action-btn-delete {
    background-color: #FEF2F2;
    color: #DC2626;
}

.action-btn-delete:hover {
    background-color: #FEE2E2;
    color: #B91C1C;
}

/* Celula de acoes - centralizar verticalmente no AG Grid */
.ag-theme-quartz .ag-cell[col-id="actions"] {
    padding: 0 !important;
    overflow: visible !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

/* Wrapper interno do AG Grid na celula de acoes */
.ag-theme-quartz .ag-cell[col-id="actions"] .ag-cell-wrapper {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 100% !important;
    width: 100% !important;
}

.ag-theme-quartz .ag-cell[col-id="actions"] .ag-cell-value {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 100% !important;
}

/* Header da coluna de acoes - centralizado */
.ag-theme-quartz .ag-header-cell[col-id="actions"] {
    text-align: center;
}

.ag-theme-quartz .ag-header-cell[col-id="actions"] .ag-header-cell-label {
    justify-content: center;
}

/* =====================================================
   BOTAO ADICIONAR - Padrao Edata/Vision
   Botao azul no topo do grid
   ===================================================== */

.grid-add-button {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background-color: var(--primary-500, #447BDA);
    color: #ffffff;
    border: none;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.15s ease-in-out;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.grid-add-button:hover {
    background-color: #3A6BC7;
}

.grid-add-button:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(68, 123, 218, 0.4);
}

.grid-add-button:active {
    transform: scale(0.98);
}

.grid-add-button i {
    font-size: 14px;
}

/* Dark mode para action buttons */
.dark .action-btn-edit {
    background-color: rgba(68, 123, 218, 0.2);
    color: #93C5FD;
}

.dark .action-btn-edit:hover {
    background-color: rgba(68, 123, 218, 0.3);
}

.dark .action-btn-delete {
    background-color: rgba(220, 38, 38, 0.2);
    color: #FCA5A5;
}

.dark .action-btn-delete:hover {
    background-color: rgba(220, 38, 38, 0.3);
}
